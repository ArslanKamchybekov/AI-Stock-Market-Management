"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.programmaticFocusTriggersFocusVisible = exports.simulatePointerDevice = void 0;
const createRenderer_1 = require("./createRenderer");
function focusVisible(element) {
    (0, createRenderer_1.act)(() => {
        element.blur();
        createRenderer_1.fireEvent.keyDown(document.body, { key: 'Tab' });
        element.focus();
    });
}
exports.default = focusVisible;
function simulatePointerDevice() {
    // first focus on a page triggers focus visible until a pointer event
    // has been dispatched
    createRenderer_1.fireEvent.pointerDown(document.body);
}
exports.simulatePointerDevice = simulatePointerDevice;
/**
 * See https://bugs.chromium.org/p/chromium/issues/detail?id=1127875 for more details.
 */
function programmaticFocusTriggersFocusVisible() {
    try {
        // So far this only applies to Chrome 86 beta which is the only tested browser supporting this pseudo class.
        document.createElement('button').matches(':focus-visible');
        return true;
    }
    catch (error) {
        return false;
    }
}
exports.programmaticFocusTriggersFocusVisible = programmaticFocusTriggersFocusVisible;
//# sourceMappingURL=focusVisible.js.map